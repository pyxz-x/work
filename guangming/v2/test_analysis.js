// 分析算法

const test1 = '{"TrackList":{"mc":"194,500,742, ,1","tc":"","mu":"280,493,906, ,1","te":"","mp":"410,514,5,1|392,514,8,1|376,514,21,1|362,513,24,1|355,512,32,1","tmv":"","mm":"194,500,740,1|196,498,782,1|199,498,785,1","ks":"","fi":"","startTime":1762408643410,"si":"626,1920,861,626,846,982,1080,105.26315789473684,1813"},"TrackStartTime":1762408643410,"VerifyTime":1762408644333,"xPos":"33","slidePos":"86","arg":"EcsfLxFBPR5CfA=="}';

const test2 = '{"TrackList":{"mc":"194,500,742, ,1","tc":"","mu":"280,493,906, ,1","te":"","mp":"410,514,5,1|392,514,8,1|376,514,21,1|362,513,24,1|355,512,32,1|351,508,40,1|351,505,48,1|351,503,58,1|351,501,64,1|351,501,72,1|353,501,192,1|352,500,208,1|350,499,218,1|348,498,224,1|346,498,232,1|343,498,240,1|340,498,248,1|335,498,258,1|331,498,264,1|326,499,272,1|321,501,280,1|315,501,288,1|310,502,298,1|304,503,304,1|300,504,312,1|296,505,320,1|292,505,329,1|291,505,339,1|291,505,344,1|290,505,352,1|289,505,401,1|289,506,408,1|287,506,425,1|286,506,432,1|283,506,440,1|280,506,449,1|276,506,460,1|273,506,465,1|268,505,472,1|264,505,480,1|260,504,488,1|255,503,498,1|249,502,504,1|243,501,512,1|237,501,521,1|232,500,530,1|227,500,542,1|222,500,544,1|218,500,552,1|215,500,561,1|212,500,570,1|208,500,579,1|204,500,585,1|200,500,594,1|197,500,601,1|195,500,608,1|194,500,621,1|194,500,625,1|196,498,781,1|199,498,784,1|204,497,792,1|210,496,801,1|217,494,808,1|225,494,818,1|233,493,824,1|241,493,832,1|249,493,841,1|256,493,848,1|263,493,862,1|269,493,864,1|274,493,872,1|277,493,880,1|279,493,891,1|280,493,896,1","tmv":"","mm":"194,500,740,1|196,498,782,1|199,498,785,1|204,497,792,1|210,496,801,1|217,494,809,1|225,494,818,1|233,493,824,1|241,493,832,1|249,493,842,1|256,493,849,1|263,493,863,1|269,493,865,1|274,493,873,1|277,493,881,1|279,493,892,1|280,493,896,1|280,493,907,1","ks":"","fi":"","startTime":1762408643410,"si":"626,1920,861,626,846,982,1080,105.26315789473684,1813"},"TrackStartTime":1762408643410,"VerifyTime":1762408644333,"xPos":"33","slidePos":"86","arg":"EcsfLxFBPR5CfA=="}';

console.log('测试1长度:', test1.length);
console.log('测试2长度:', test2.length);
console.log('长度差异:', test2.length - test1.length);

// 分析"0000"的作用
const key = "0000";
console.log('\n"0000"的charCodes:');
for (let i = 0; i < key.length; i++) {
    console.log(`  [${i}]:`, key.charCodeAt(i), '(字符:', key[i], ')');
}

// 从日志得出的期望结果
const expected1 = '38f15dd2a60f360ddd39944c4bcc0c97';
const expected2 = '16b903f5c094af2bbf624081473ba341';

console.log('\n期望结果1:', expected1);
console.log('期望结果2:', expected2);

// 将期望结果解析为16字节
function hexToBytes(hex) {
    const bytes = [];
    for (let i = 0; i < hex.length; i += 2) {
        bytes.push(parseInt(hex.substr(i, 2), 16));
    }
    return bytes;
}

const bytes1 = hexToBytes(expected1);
const bytes2 = hexToBytes(expected2);

console.log('\n期望结果1的16字节:', bytes1);
console.log('期望结果2的16字节:', bytes2);
console.log('\n两个结果的差异:');
for (let i = 0; i < 16; i++) {
    console.log(`  [${i}]: ${bytes1[i]} -> ${bytes2[i]}, 差值: ${bytes2[i] - bytes1[i]}`);
}
